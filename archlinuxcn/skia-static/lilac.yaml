maintainers:
  - github: Kimiblock

pre_build_script: update_pkgver_and_pkgrel(_G.newver)
post_build_script: |
  git_pkgbuild_commit()
#  update_aur_repo()

update_on:
  - source: "github"
    github: "google/skia"
    use_max_tag: true
  - source: alpm
    alpm: freetype2
    from_pattern: '^(\d+\.\d+)\..*'
    to_pattern: '\1'
  - source: alpm
    alpm: harfbuzz
    from_pattern: '^(\d+\.\d+)\..*'
    to_pattern: '\1'
  - source: alpm
    alpm: libglvnd
    from_pattern: '^(\d+\.\d+)\..*'
    to_pattern: '\1'
  - source: alpm
    alpm: zlib
    from_pattern: '^(\d+\.\d+)\..*'
    to_pattern: '\1'
  - source: alpm
    alpm: expat
    from_pattern: '^(\d+\.\d+)\..*'
    to_pattern: '\1'
  - source: alpm
    alpm: libjpeg-turbo
    from_pattern: '^(\d+\.\d+)\..*'
    to_pattern: '\1'
  - source: alpm
    alpm: libpng
    from_pattern: '^(\d+\.\d+)\..*'
    to_pattern: '\1'
  - source: alpm
    alpm: libwebp
    from_pattern: '^(\d+\.\d+)\..*'
    to_pattern: '\1'

build_prefix: archlinuxcn-x86_64

repo_depends:
  - depot-tools-git