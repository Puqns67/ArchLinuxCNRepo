From 9fb6a887316a2910e7ac419eed21d366df2c0b16 Mon Sep 17 00:00:00 2001
From: Yichao Yu <yyc1992@gmail.com>
Date: Tue, 7 Oct 2025 09:30:24 -0400
Subject: [PATCH 1/2] Remove deprecated ticks_per_frame

Ref https://github.com/FFmpeg/FFmpeg/commit/7d1d61cc5f57708434ba720b03234b3dd93a4d1e
---
 src/avio.jl | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/avio.jl b/src/avio.jl
index 5ba2c21..ce45a06 100644
--- a/src/avio.jl
+++ b/src/avio.jl
@@ -433,7 +433,7 @@ function framerate(f::VideoReader)
     # Try codec_context time_base first
     tb = f.codec_context.time_base
     if tb.num != 0
-        fps = tb.den // tb.num // f.codec_context.ticks_per_frame
+        fps = tb.den // tb.num // ((f.codec_context.codec_descriptor.props & AV_CODEC_PROP_FIELDS) == 0 ? 1 : 2)
         if isfinite(fps) && fps > 0
             return fps
         end
-- 
2.51.0

