# Maintainer: Gavin Luo <lunt.luo#gmail.com>
# Contributor: Felix BÃ¼hler <account at buehler dot de>
# Contributor: lvxnull <lvxnull at proton dot me>

pkgname=(nautilus-open-any-terminal
         caja-open-any-terminal)
pkgbase="${pkgname[0]}"
pkgver=0.7.0
pkgrel=1
pkgdesc="Context-menu entry for opening other terminal in nautilus"
arch=('x86_64' 'aarch64')
url="https://github.com/Stunkymonkey/nautilus-open-any-terminal"
license=("GPL-3.0-or-later")
makedepends=(make gettext)
source=("${pkgbase}-${pkgver}.tar.gz::${url}/archive/refs/tags/${pkgver}.tar.gz")
sha256sums=('352b823b8a06ca44f57f586b04a64e28daeb0249f15ab4b6526fc06c4a3d91dd')
install='post.install'

build() {
  cd "${pkgbase}-${pkgver}"

  make build
}

package_nautilus-open-any-terminal() {
    depends=(python-nautilus)
    cd "${pkgbase}-${pkgver}"

    make DESTDIR="${pkgdir}" PREFIX="/usr" install-nautilus
}

package_caja-open-any-terminal() {
    depends=(python-caja)
    cd "${pkgbase}-${pkgver}"

    make DESTDIR="${pkgdir}" PREFIX="/usr" install-caja
}
