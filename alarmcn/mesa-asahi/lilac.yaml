maintainers:
  - github: yuyichao

pre_build_script: update_pkgver_and_pkgrel(_G.newver.removeprefix('mesa-'))
post_build: git_pkgbuild_commit
time_limit_hours: 2

allowed_workers:
  - yyc

update_on:
  - source: gitlab
    gitlab: mesa/mesa
    host: gitlab.freedesktop.org
    use_max_tag: true
    include_regex: 'mesa-[0-9.]+'
  - source: alpm
    from_pattern: ^(\d+)\..*
    to_pattern: \1
    alpm: llvm-libs
  - source: manual
    manual: 1
